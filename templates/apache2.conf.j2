# Apache2 configuration for {{rails_app_name}}

<VirtualHost *:80>
  # Don't allow client to fool Puma into thinking connection is secure
  RequestHeader unset X-Forwarded-Proto

   Use RailsApp "{{rails_app_fqdn | mandatory}}" "{{rails_app_path}}" "/tmp/puma_{{rails_app_name}}.socket"
</VirtualHost>

<IfModule mod_ssl.c>
  <VirtualHost *:443>
    # Let Puma know that request came in on a secure connection
    RequestHeader set X-Forwarded-Proto "https"

     Use RailsApp "{{rails_app_fqdn | mandatory}}" "{{rails_app_path}}" "/tmp/puma_{{rails_app_name}}.socket"
  </VirtualHost>
</IfModule>
